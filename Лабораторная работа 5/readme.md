# ЛАБОРАТОРНОЕ ЗАНЯТИЕ №5 КУРСА «БАЗЫ ДАННЫХ

### 1. Постройте ОДНО отношение, которое включает ВСЕ атрибуты, которые заявлены в предметной области.

| Серийный_номер |    Модель   | Дата_приобретения | Дата_выхода_из_строя |       Комментарии       | Объем_ГБ | Скорость_об_мин | Интерфейс |  Производитель |    Сайт_производителя   |
|:--------------:|:-----------:|:-----------------:|:--------------------:|:-----------------------:|:--------:|:---------------:|:---------:|:--------------:|:-----------------------:|
| Z1A2B3C4       | ST1000DM010 | 2021-05-10        | 2023-01-15           | Сбои в SMART            | 1000     | 7200            | SATA III  | Seagate        | https://www.seagate.com |
| W5X6Y7Z8       | WD10EZEX    | 2020-11-02        |                      | Работает стабильно      | 1000     | 7200            | SATA II   | WesternDigital | https://www.wdc.com     |
| T9U8I7O6       | DT01ACA100  | 2019-07-19        | 2022-09-30           | Шум при работе, заменен | 1000     | 7200            | SATA I    | Toshiba        | https://www.toshiba.com |

### 2. Приведите отношение до 3НФ. Произведите декомпозицию в соответствии с требованиями.

Первичным ключом является "Серийный номер", так как именно он уникально индентифицирует каждый жесткий диск.

#### Нормализация к 1НФ: 
Отношение уже находится в 1НФ, так как все атрибуты атомарны. 

`Серийный_номер` -> `Модель`, `Дата_приобретения`, `Дата_выхода_из_строя`, `Комментарии` 

`Модель` -> `Объем_ГБ`, `Скорость_об_мин`, `Интерфейс`, Производитель`

`Производитель` -> `Сайт_производителя`

#### Нормализация к 2НФ: 
`Серийный_номер` -> `Дата_приобретения`, `Дата_выхода_из_строя`, `Комментарии` (полная функциональная зависимость)

`Модель` -> `Объем_ГБ`, `Скорость_об_мин`, `Интерфейс` (частичная функциональная зависимость)

`Производитель` -> `Сайт_производителя` (частичная функциональная зависимость)

1. Определение первичного ключа:

Первичным ключом является `Серийный_номер`, так как он уникально идентифицирует каждый жесткий диск.

2. Определение функциональных зависимостей:

    `Серийный_номер` -> `Модель`, `Дата_приобретения`, `Дата_выхода_из_строя`, `Комментарии`

    `Модель` -> `Объем_ГБ`, `Скорость_об_мин`, `Интерфейс`, `Производитель`

    `Производитель` -> `Сайт_производителя`

4. Нормализация к 1НФ:

Отношение уже находится в 1НФ, так как все атрибуты атомарны.

4. Нормализация к 2НФ:

    Серийный_номер -> Дата_приобретения, Дата_выхода_из_строя, Комментарии (полная функциональная зависимость)
    Модель -> Объем_ГБ, Скорость_об_мин, Интерфейс (частичная функциональная зависимость)
    Производитель -> Сайт_производителя (частичная функциональная зависимость)

Чтобы привести к 2НФ, необходимо разделить отношение на три:

* Жесткие_диски (HDDs):
    Серийный_номер (PK), 
    Модель (FK), 
    Дата_приобретения, 
    Дата_выхода_из_строя, 
    Комментарии.

* Модели (Models):
    Модель (PK), 
    Объем_ГБ,
    Скорость_об_мин, 
    Интерфейс, 
    Производитель (FK).

* Производители (Manufacturers):
    Производитель (PK), 
    Сайт_производителя.

#### Нормализация к 3НФ:

    В отношении Жесткие_диски нет транзитивных зависимостей.
    В отношении Модели нет транзитивных зависимостей.
    В отношении Производители нет транзитивных зависимостей.

Таким образом, мы получили три отношения, находящиеся в 3НФ:

  * Жесткие_диски (HDDs):
        Серийный_номер (PK), 
        Модель (FK), 
        Дата_приобретения, 
        Дата_выхода_из_строя.
        Комментарии
  * Модели (Models):
        Модель (PK), 
        Объем_ГБ, 
        Скорость_об_мин, 
        Интерфейс, 
        Производитель (FK).
  * Производители (Manufacturers):
        Производитель (PK), 
        Сайт_производителя.



### 3. Найдите первичные ключи каждого полученного отношения на этапе 3НФ.

Отношения, которые полученные на этапе 3НФ:
* Жесткие_диски (HDDs): Серийный_номер(PK)
* Модели(Models): Модель(PK)
* Производители(Manufactures): Производитель(PK)

Отлично, давайте определим первичные ключи для каждого из полученных отношений на этапе 3НФ.

Отношения, полученные на этапе 3НФ:

    Жесткие_диски (HDDs):
        Серийный_номер (PK)
    Модели (Models):
        Модель (PK)
    Производители (Manufacturers):
        Производитель (PK)

Первичные ключи:

    В отношении Жесткие_диски (HDDs) первичным ключом является атрибут Серийный_номер. Он уникально идентифицирует каждый жесткий диск.
    В отношении Модели (Models) первичным ключом является атрибут Модель. Он уникально идентифицирует каждую модель жесткого диска.
    В отношении Производители (Manufacturers) первичным ключом является атрибут Производитель. Он уникально идентифицирует каждого производителя.

### 4. Рассмотрите функциональные зависимости полученных конечных отношений. Если все зависимости отвечают требования НФБК – работа закончена.

#### Напоминание требований НФБК:

* Детерминант функциональной зависимости (ФЗ) является потенциальным (первичным) ключом.
* Естественное соединение полученных проекций должно дать исходное отношение.

#### Анализ полученных отношений:

1.  **Жесткие\_диски (HDDs):**
    * `Серийный_номер` (PK)
    * `Модель` (FK)
    * `Дата_приобретения`
    * `Дата_выхода_из_строя`
    * `Комментарии`
    * Функциональные зависимости:
        * `Серийный_номер` -> `Модель`, `Дата_приобретения`, `Дата_выхода_из_строя`, `Комментарии`
    * Детерминант `Серийный_номер` является первичным ключом.
    * НФБК соблюдена.

2.  **Модели (Models):**
    * `Модель` (PK)
    * `Объем_ГБ`
    * `Скорость_об_мин`
    * `Интерфейс`
    * `Производитель` (FK)
    * Функциональные зависимости:
        * `Модель` -> `Объем_ГБ`, `Скорость_об_мин`, `Интерфейс`, `Производитель`
    * Детерминант `Модель` является первичным ключом.
    * НФБК соблюдена.

3.  **Производители (Manufacturers):**
    * `Производитель` (PK)
    * `Сайт_производителя`
    * Функциональные зависимости:
        * `Производитель` -> `Сайт_производителя`
    * Детерминант `Производитель` является первичным ключом.
    * НФБК соблюдена.

**Проверка естественного соединения:**

Чтобы проверить, можно ли восстановить исходное отношение, необходимо выполнить естественное соединение полученных таблиц.

* Соединяем `Жесткие_диски` и `Модели` по атрибуту `Модель`.
* Затем соединяем результат с `Производители` по атрибуту `Производитель`.
